<%- include ('../partials/_header')  %>
<%- include ('../partials/_navbar')  %>
<h4 class="center" style="padding: 10px 0;">EXAMS</h4>
<div class="container center" style="width: 95vw;">
    <div class="row">
        <div class="col s12 m6">
            <div class="input-field col s10">
                <i class="material-icons prefix">search</i>
                <input id="icon_prefix" type="text" class="validate search">
                <label for="icon_prefix">Search</label>
            </div>
        </div>
    </div>
    <p class="flow-text" style="margin: 0">Upcoming Exams</p>
    <table class="centered responsive-table highlight" style="border: 1px solid rgb(211, 208, 208);">
        <thead>
          <tr>
              <th>Exam Name</th>
              <th>Classes</th>
              <th>Subjects</th>
              <th>Start Date</th>
          </tr>
        </thead>
        <tbody>
            <% exams.forEach(e => { %>
                <% if(e.startDate > currentDate) { %> 
                <tr class="show">
                <td class="s_filter"><%= e.title  %></td>
                <td>
                    <% e.classes.forEach(c => { %>
                        <span class="s_filter"><%= c.className %></span>,<%= ' ' %> 
                    <% }) %> 
                </td>
                <td>
                    <% e.subjects.forEach(sb => { %>
                        <span class="s_filter"><%= sb.code %></span>,<%= ' ' %> 
                    <% }) %> 
                </td>
                <td class="s_filter"><%= e.date %></td>
            </tr>
        <% } %>
            <% })%> 
        </tbody>
    </table>
    <p class="flow-text" style="margin: 0">Past Exams</p>
    <table class="centered responsive-table highlight" style="border: 1px solid rgb(211, 208, 208);">
        <thead>
          <tr>
              <th>Exam Name</th>
              <th>Classes</th>
              <th>Subjects</th>
              <th>Start Date</th>
          </tr>
        </thead>
        <tbody>
            <% exams.forEach(e => { %>
                <% if(e.startDate < currentDate) { %> 
                <tr class="show">
                <td class="s_filter"><%= e.title  %></td>
                <td>
                    <% e.classes.forEach(c => { %>
                        <span class="s_filter"><%= c.className %></span>,<%= ' ' %> 
                    <% }) %> 
                </td>
                <td>
                    <% e.subjects.forEach(sb => { %>
                        <span class="s_filter"><%= sb.code %></span>,<%= ' ' %> 
                    <% }) %> 
                </td>
                <td class="s_filter"><%= e.date %></td>
            </tr>
        <% } %>
            <% })%> 
        </tbody>
    </table>
</div>
<script src="/js/filterList.js"></script>
<%- include ('../partials/_footer')  %>  